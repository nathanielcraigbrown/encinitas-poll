<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Post-Site Visit Lunch in Encinitas</title>

    <!-- Coastal font -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
      :root{
        --sky: #e9f6ff;
        --sea: #bdf0ff;
        --sand: #fff7e6;
        --ocean: #0a7fb0;
        --ocean-2:#1397c6;
        --coral:#ff6f61;
        --ink:#0f172a;
        --card: rgba(255,255,255,.86);
        --line:#e7eef4;
        --shadow: 0 10px 28px rgba(10,127,176,.10);
        --radius: 18px;
      }

      /* Background: sky to sand with subtle sheen */
      body{
        margin:0;
        color:#123;
        font-family: Nunito, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji", "Segoe UI Symbol";
        background:
          radial-gradient(1200px 600px at 50% -80px, #ffffff 0%, transparent 60%),
          linear-gradient(180deg, var(--sky) 0%, var(--sea) 45%, var(--sand) 100%);
        min-height:100vh;
      }

      .wrap{
        max-width: 920px;
        margin: 0 auto;
        padding: 28px 20px 80px;
        position: relative;
      }

      header{
        display:flex;
        flex-direction:column;
        gap:8px;
        margin: 8px 0 22px;
      }
      h1{
        margin:0;
        font-weight:800;
        letter-spacing:.2px;
        font-size: clamp(1.6rem, 2.2vw + 1rem, 2.2rem);
        color:#0c2a3a;
      }
      .tag{
        display:inline-flex; align-items:center; gap:.5rem;
        font-size:.95rem; color:#2a5366;
      }

      .card{
        background: var(--card);
        border: 1px solid var(--line);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        padding: 16px;
        backdrop-filter: saturate(1.2) blur(2px);
      }

      .grid{
        display:grid;
        grid-template-columns: 1fr;
        gap:16px;
      }
      @media (min-width: 880px){
        .grid{ grid-template-columns: 1fr 1fr; }
      }

      .hint{
        margin: 6px 2px 14px;
        font-size: .95rem;
        color:#355a6c;
      }

      /* Rank list */
      #options{
        list-style:none; margin:0; padding:0;
      }
      #options li{
        display:flex; align-items:center; justify-content:space-between;
        padding:14px 14px 14px 48px;
        border: 1px solid var(--line);
        border-radius: 14px;
        background:#fff;
        position: relative;
        user-select:none;
      }
      #options li + li{ margin-top:10px; }
      #options li::before{
        content:"≡";
        position:absolute; left:14px; top:50%; transform:translateY(-50%);
        font-weight:700; letter-spacing:2px;
        color:#7aa6b8; opacity:.9;
      }
      #options li.dragging{ opacity:.7; transform: scale(.995); }

      /* Buttons */
      .btn{
        appearance:none; border:0; cursor:pointer; width:100%;
        padding:12px 16px; border-radius:14px; font-weight:800;
        color:#fff; letter-spacing:.3px;
        background: linear-gradient(135deg, var(--ocean) 0%, var(--ocean-2) 100%);
        box-shadow: 0 6px 18px rgba(10,127,176,.22);
        transition: transform .06s ease, box-shadow .15s ease, opacity .2s ease;
      }
      .btn:hover{ transform: translateY(-1px); box-shadow: 0 8px 22px rgba(10,127,176,.26); }
      .btn:disabled{ opacity:.55; cursor:not-allowed; }

      .section-title{
        font-size:1.05rem; font-weight:800; color:#164056; margin:0 0 10px;
        display:flex; align-items:center; gap:.5rem;
      }

      .results{
        display:flex; flex-direction:column; gap:12px;
      }
      .results-round{
        border:1px dashed var(--line);
        border-radius: 14px;
        padding:12px;
        background:#fff;
      }
      .kv{ display:flex; justify-content:space-between; padding:6px 0; border-bottom:1px solid #f2f6f9; }
      .kv:last-child{ border-bottom:0; }

      /* Decorative wave footer */
      .wave{
        position: fixed;
        left:0; right:0; bottom:-1px; z-index:-1;
        pointer-events:none;
      }
      .wave svg{ width:100%; display:block; }
    </style>
  </head>
  <body>
    <div class="wrap">
      <header>
        <h1>Post-Site Visit Lunch in Encinitas</h1>
        <div class="tag">Rank the restaurants by dragging them into your preferred order.</div>
      </header>

      <div class="grid">
        <!-- Ballot -->
        <section class="card">
          <div class="section-title">Your Ballot</div>
          <p class="hint">Top pick goes first. Drag to reorder.</p>
          <ul id="options">
            <li data-value="Union Kitchen and Tap Encinitas">Union Kitchen and Tap Encinitas</li>
            <li data-value="Swami's Cafe Encinitas 101">Swami’s Cafe Encinitas 101</li>
            <li data-value="Encinitas Fish Shop">Encinitas Fish Shop</li>
            <li data-value="URBN Encinitas">URBN Encinitas</li>
          </ul>
          <div style="margin-top:14px">
            <button id="submit" class="btn">Submit vote</button>
          </div>
        </section>

        <!-- Results -->
        <section class="card">
          <div class="section-title">Live Results</div>
          <p id="result-summary" class="hint">No votes yet.</p>
          <div id="results" class="results"></div>
        </section>
      </div>
    </div>

    <!-- Subtle wave at the shoreline -->
    <div class="wave" aria-hidden="true">
      <svg viewBox="0 0 1440 120" preserveAspectRatio="none">
        <path d="M0,32 C240,96 480,0 720,32 C960,64 1200,96 1440,48 L1440,120 L0,120 Z" fill="#fff7e6" opacity="1"/>
        <path d="M0,48 C240,112 480,16 720,48 C960,80 1200,112 1440,64 L1440,120 L0,120 Z" fill="#ffffff" opacity=".55"/>
      </svg>
    </div>

    <!-- Sortable for drag-and-drop -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.2/Sortable.min.js"></script>
    <!-- App logic (unchanged) -->
    <script type="module" src="./script.js"></script>

    // tiny enhancement: add/remove dragging class
  const list = document.getElementById('options');
  new Sortable(list, {
    animation: 150,
    ghostClass: 'dragging'
  });
</script>
  </body>
</html>
